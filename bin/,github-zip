#!/usr/bin/env python
#
# I am always wanting to give people on GitHub the URL with which they
# can "pip install" the new version of my package without my having to
# release it before knowing if it fixes their problem.  So this script
# will turn this:
#
# git@github.com:brandon-rhodes/pyephem.git
#
# into:
#
# https://github.com/brandon-rhodes/pyephem/archive/master.zip

import subprocess

if __name__ == '__main__':
    url = subprocess.check_output(
        ['git', 'config', '--get', 'remote.origin.url'],
        )
    print(url)
    assert url.startswith(b'git@')
    user = url.split(b':')[1].split(b'/')[0]
    repo = url.split(b'/')[1].split(b'.')[0]
    print(b'https://github.com/%s/%s/archive/master.zip' % (user, repo))
